(()=>{"use strict";var e=document.getElementById("inputStarBtn"),t=document.getElementById("searchInput").value,n=document.querySelector(".favouriteCities");const r="cities";let a=[];function o(e){console.log("displaying..");let t="";for(var r=0;r<e.length;r++)t+=`<button id="star-five" name="city${r}"><img src="../Icons/star-fill.png"></button>\n                    <input type="button" id=city${r} onclick="favouritesEvent()" value="${e[r]}"></input><br>`;n.innerHTML=t}const c=document.querySelector(".search-box");function u(e){let t=document.querySelector(".location .city"),n=new Date,r=document.querySelector(".location .date"),a=document.querySelector(".current .temp"),o=document.querySelector(".current .weather"),c=document.querySelector(".highTemp"),u=document.querySelector(".lowTemp"),i=document.getElementById("up-down-narrows");var s;t.innerText=`${e.name}, ${e.sys.country}`,r.innerText=`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(s=n).getDay()]}, ${s.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`,a.innerHTML=`${Math.round(e.main.temp)}<span>°c</span>`,o.innerText=e.weather[0].main,c.innerText=`${Math.round(e.main.temp_max)}°c`,u.innerText=`${Math.round(e.main.temp_min)}°c`,i.hidden=!1}c.addEventListener("keypress",(function(n){var i;13==n.keyCode&&(0===c.value.length?alert("Enter city for searching"):(i=c.value,fetch(`https://api.openweathermap.org/data/2.5/weather?q=${i}&units=metric&APPID=25e0086798dc59c52219880629e8f0c7`).then((e=>(e.status>=400&&alert("City not found."),e.json()))).then(u),e.onclick=function(){var n;document.getElementById("favourites").style.display="block",(n=a).push(t),localStorage.setItem(r,JSON.stringify(n)),function(e,t){0!=(t=JSON.parse(localStorage.getItem("cities"))).length?o(t):document.getElementById("favourites").style.display="none"}(0,a),o(a),e.onclick=function(){"../Icons/star-fill.png"===e.src?e.src="../Icons/star-transparent.png":e.src="../Icons/star-fill.png"}}))}))})();